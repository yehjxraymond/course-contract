//SPDX-License-Identifier: Unlicense
pragma solidity ^0.5.17;

contract Storage {
    function reverseArrLocation(
        uint256 slot,
        uint256 elementSize,
        uint256 desiredSlot
    ) public pure returns (uint256) {
        return
            desiredSlot -
            uint256(keccak256(abi.encodePacked(slot))) /
            elementSize;
    }

    function arrLocation(
        uint256 slot,
        uint256 index,
        uint256 elementSize
    ) public pure returns (uint256) {
        return
            uint256(keccak256(abi.encodePacked(slot))) + (index * elementSize);
    }

    function mapLocation(uint256 slot, uint256 key)
        public
        pure
        returns (uint256)
    {
        return uint256(keccak256(abi.encodePacked(key, slot)));
    }
}
